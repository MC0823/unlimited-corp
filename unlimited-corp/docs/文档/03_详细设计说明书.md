# ã€Šæ— é™å…¬å¸ Unlimited Corp.ã€‹è¯¦ç»†è®¾è®¡è¯´æ˜ä¹¦

## æ–‡æ¡£ä¿¡æ¯
| é¡¹ç›® | å†…å®¹ |
|------|------|
| äº§å“åç§° | æ— é™å…¬å¸ (Unlimited Corp.) |
| æ–‡æ¡£ç‰ˆæœ¬ | v1.0 |
| æ–‡æ¡£ç±»å‹ | è¯¦ç»†è®¾è®¡è¯´æ˜ä¹¦ |
| åˆ›å»ºæ—¥æœŸ | 2024å¹´10æœˆ |

---

## 1. æŠ€èƒ½å¡ç³»ç»Ÿè¯¦ç»†è®¾è®¡

### 1.1 æŠ€èƒ½å¡æ•°æ®ç»“æ„

```typescript
interface SkillCard {
    id: string;                    // UUID
    name: string;                  // æŠ€èƒ½å¡åç§°
    description: string;           // æè¿°
    category: SkillCategory;       // åˆ†ç±»
    inputSchema: JSONSchema;       // è¾“å…¥JSON Schema
    outputSchema: JSONSchema;      // è¾“å‡ºJSON Schema
    kernel: SkillKernel;          // å†…æ ¸é…ç½®
    metadata: SkillMetadata;      // å…ƒæ•°æ®
    status: SkillStatus;          // çŠ¶æ€
}

enum SkillCategory {
    CREATIVE = 'creative',        // åˆ›æ„ç­–ç•¥
    COLLECTION = 'collection',    // ç´ æè·å–
    CONTENT = 'content',          // å†…å®¹åˆ›ä½œ
    VISUAL = 'visual',            // è§†è§‰è®¾è®¡
    OPTIMIZE = 'optimize',        // ä¼˜åŒ–è´¨æ£€
    PUBLISH = 'publish',          // å‘å¸ƒè¿è¥
    DELIVERY = 'delivery'         // åˆæˆäº¤ä»˜
}

interface SkillKernel {
    type: 'ai_model' | 'code_logic';
    // AIæ¨¡å‹ç±»å‹
    modelId?: string;             // æ¨¡å‹æ ‡è¯†
    systemPrompt?: string;        // ç³»ç»Ÿæç¤ºè¯
    userPromptTemplate?: string;  // ç”¨æˆ·æç¤ºè¯æ¨¡æ¿ï¼ˆæ”¯æŒå˜é‡ï¼‰
    temperature?: number;
    maxTokens?: number;
    // ä»£ç é€»è¾‘ç±»å‹
    runtime?: 'python' | 'javascript';
    code?: string;                // ä»£ç å†…å®¹
    dependencies?: string[];      // ä¾èµ–åŒ…
}

enum SkillStatus {
    DRAFT = 'draft',
    PUBLISHED = 'published',
    DEPRECATED = 'deprecated'
}
```

### 1.2 æŠ€èƒ½å¡æ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æŠ€èƒ½å¡æ‰§è¡Œæµç¨‹                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚æ¥æ”¶ä»»åŠ¡  â”‚
    â”‚è¾“å…¥æ•°æ®  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  éªŒè¯è¾“å…¥Schema â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ éªŒè¯é€šè¿‡
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ åˆ¤æ–­å†…æ ¸ç±»å‹    â”‚â”€â”€â”€â”€â–ºâ”‚   AIæ¨¡å‹ç±»å‹    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                          â”‚
         â”‚ ä»£ç é€»è¾‘ç±»å‹              â”‚
         â–¼                          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å¯åŠ¨æ²™ç®±å®¹å™¨   â”‚     â”‚  æ¸²æŸ“æç¤ºè¯æ¨¡æ¿  â”‚
    â”‚  æ‰§è¡Œç”¨æˆ·ä»£ç    â”‚     â”‚  è°ƒç”¨LLM API    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  è§£ææ‰§è¡Œç»“æœ   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  éªŒè¯è¾“å‡ºSchema â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  è¿”å›ç»“æœ/é”™è¯¯  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 æŠ€èƒ½å¡ç¼–è¾‘å™¨è®¾è®¡

#### 1.3.1 ç•Œé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŠ€èƒ½å¡å·¥åŠ                                        [ä¿å­˜è‰ç¨¿] [å‘å¸ƒ] [æµ‹è¯•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç»„ä»¶åº“     â”‚              ç¼–è¾‘åŒºåŸŸ                â”‚       å±æ€§é¢æ¿        â”‚
â”‚              â”‚                                      â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  åŸºç¡€ä¿¡æ¯             â”‚
â”‚  â”‚ è¾“å…¥   â”‚  â”‚  â”‚                              â”‚   â”‚  â”œâ”€ åç§°: [____]      â”‚
â”‚  â”‚ å­—æ®µ   â”‚  â”‚  â”‚      AIæ¨¡å‹é…ç½®              â”‚   â”‚  â”œâ”€ åˆ†ç±»: [â–¼____]    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚      æˆ–                      â”‚   â”‚  â””â”€ æè¿°: [____]      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚      ä»£ç ç¼–è¾‘å™¨              â”‚   â”‚                       â”‚
â”‚  â”‚ è¾“å‡º   â”‚  â”‚  â”‚                              â”‚   â”‚  è¾“å…¥å®šä¹‰             â”‚
â”‚  â”‚ å­—æ®µ   â”‚  â”‚  â”‚                              â”‚   â”‚  â”œâ”€ + æ·»åŠ å­—æ®µ        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                              â”‚   â”‚  â”œâ”€ title: string    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                              â”‚   â”‚  â””â”€ content: string  â”‚
â”‚  â”‚ å˜é‡   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                       â”‚
â”‚  â”‚ æ’å…¥   â”‚  â”‚                                      â”‚  è¾“å‡ºå®šä¹‰             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”œâ”€ + æ·»åŠ å­—æ®µ        â”‚
â”‚              â”‚  â”‚      æµ‹è¯•é¢æ¿ï¼ˆå¯æŠ˜å ï¼‰       â”‚   â”‚  â””â”€ result: string   â”‚
â”‚              â”‚  â”‚  è¾“å…¥: {...}  [æ‰§è¡Œ]          â”‚   â”‚                       â”‚
â”‚              â”‚  â”‚  è¾“å‡º: {...}                  â”‚   â”‚  å†…æ ¸é…ç½®             â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”œâ”€ ç±»å‹: [AIæ¨¡å‹â–¼]  â”‚
â”‚              â”‚                                      â”‚  â””â”€ æ¨¡å‹: [GPT-4â–¼]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.3.2 æç¤ºè¯æ¨¡æ¿å˜é‡è¯­æ³•
```handlebars
ç³»ç»Ÿæç¤ºè¯:
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„{{role}}ï¼Œæ“…é•¿{{expertise}}ã€‚

ç”¨æˆ·æç¤ºè¯æ¨¡æ¿:
è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚å®Œæˆä»»åŠ¡ï¼š

æ ‡é¢˜ï¼š{{input.title}}
å†…å®¹ï¼š{{input.content}}
é£æ ¼è¦æ±‚ï¼š{{input.style | default:"æ­£å¼"}}

{{#if input.keywords}}
å…³é”®è¯ï¼š{{input.keywords | join:", "}}
{{/if}}
```

---

## 2. å‘˜å·¥ç³»ç»Ÿè¯¦ç»†è®¾è®¡

### 2.1 å‘˜å·¥çŠ¶æ€æœº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å‘˜å·¥çŠ¶æ€æµè½¬                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  å…¥èŒ   â”‚
                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚  ç©ºé—²   â”‚
         â”‚                   â”‚ (IDLE)  â”‚
         â”‚                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â”‚                        â”‚ åˆ†é…ä»»åŠ¡
         â”‚                        â–¼
         â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚ å·¥ä½œä¸­  â”‚
         â”‚                   â”‚(WORKING)â”‚
         â”‚                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           â”‚                         â”‚
         â”‚           â–¼                         â–¼
         â”‚      å®Œæˆä»»åŠ¡                    ä»»åŠ¡å¤±è´¥
         â”‚           â”‚                         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ€å®šä¹‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŠ¶æ€   â”‚ è¯´æ˜                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ IDLE   â”‚ ç©ºé—²ï¼Œå¯æ¥å—æ–°ä»»åŠ¡                                      â”‚
â”‚ WORKINGâ”‚ æ­£åœ¨æ‰§è¡Œä»»åŠ¡                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å‘˜å·¥é¢æ¿UIè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘˜å·¥è¯¦æƒ… - å°æ˜                                               [âœ•]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    åŸºç¡€ä¿¡æ¯                                            â”‚
â”‚  â”‚                â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚  â”‚    [å¤´åƒ]      â”‚    å·¥å·ï¼šEMP-001                                        â”‚
â”‚  â”‚    â—‹ å·¥ä½œä¸­    â”‚    å…¥èŒæ—¥æœŸï¼š2024-10-01                                â”‚
â”‚  â”‚                â”‚    æŠ€èƒ½ç±»å‹ï¼šå†…å®¹åˆ›ä½œ                                    â”‚
â”‚  â”‚                â”‚    å½“å‰çŠ¶æ€ï¼šğŸŸ¢ å·¥ä½œä¸­                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                         â”‚
â”‚                                                                             â”‚
â”‚  æ ¸å¿ƒæŠ€èƒ½                                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  ğŸ“ å°çº¢ä¹¦ç¬”è®°ç”Ÿæˆå™¨                           [æ›´æ¢æŠ€èƒ½â–¼]  â”‚           â”‚
â”‚  â”‚  ç±»åˆ«ï¼šå†…å®¹åˆ›ä½œ  |  ä½¿ç”¨æ¬¡æ•°ï¼š128æ¬¡  |  æˆåŠŸç‡ï¼š96%        â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â”‚  ç»©æ•ˆæ•°æ®                                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ä»Šæ—¥ä»»åŠ¡    â”‚  â”‚ æœ¬å‘¨ä»»åŠ¡    â”‚  â”‚ å¹³å‡è€—æ—¶    â”‚  â”‚ æ»¡æ„åº¦      â”‚       â”‚
â”‚  â”‚   12ä¸ª      â”‚  â”‚   68ä¸ª      â”‚  â”‚  2.3åˆ†é’Ÿ    â”‚  â”‚   4.8/5     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                             â”‚
â”‚  æ“ä½œ                                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  [è®¾ç½®ä¼˜å…ˆçº§â–¼]  [æŸ¥çœ‹ä»»åŠ¡å†å²]  [è°ƒæ•´å·¥ä½]  [è§£é›‡å‘˜å·¥]                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 å‘˜å·¥è°ƒåº¦ç®—æ³•

```python
def schedule_employee(task_step: TaskStep) -> Optional[Employee]:
    """
    ä¸ºä»»åŠ¡æ­¥éª¤åˆ†é…æœ€åˆé€‚çš„å‘˜å·¥
    
    è°ƒåº¦ç­–ç•¥ï¼š
    1. æŠ€èƒ½åŒ¹é…ï¼ˆå¿…é¡»ï¼‰
    2. çŠ¶æ€ä¼˜å…ˆï¼ˆç©ºé—² > ä½è´Ÿè½½ï¼‰
    3. å†å²æˆåŠŸç‡å‚è€ƒ
    4. è´Ÿè½½å‡è¡¡
    """
    required_skill_id = task_step.skill_card_id
    
    # ç¬¬ä¸€æ­¥ï¼šç­›é€‰è£…å¤‡æ‰€éœ€æŠ€èƒ½çš„å‘˜å·¥
    candidates = Employee.query.filter(
        Employee.skill_equip.skill_card_id == required_skill_id,
        Employee.status.in_(['IDLE', 'WORKING']),
    ).all()
    
    if not candidates:
        return None  # æ— å¯ç”¨å‘˜å·¥
    
    # ç¬¬äºŒæ­¥ï¼šè®¡ç®—æ¯ä¸ªå€™é€‰äººçš„å¾—åˆ†
    scored_candidates = []
    for emp in candidates:
        score = 0
        
        # çŠ¶æ€å¾—åˆ†ï¼ˆæƒé‡40%ï¼‰
        if emp.status == 'IDLE':
            score += 40
        else:
            # å·¥ä½œä¸­çš„å‘˜å·¥æ ¹æ®é˜Ÿåˆ—é•¿åº¦æ‰£åˆ†
            queue_penalty = min(emp.task_queue_length * 5, 30)
            score += (40 - queue_penalty)
        
        # å†å²æˆåŠŸç‡å‚è€ƒï¼ˆæƒé‡30%ï¼‰
        success_rate = emp.get_skill_success_rate(required_skill_id)
        score += success_rate * 30
        
        # è´Ÿè½½å‡è¡¡å¾—åˆ†ï¼ˆæƒé‡30%ï¼‰- ä»Šæ—¥ä»»åŠ¡æ•°å°‘çš„ä¼˜å…ˆ
        today_tasks = emp.get_today_task_count()
        load_score = max(0, 30 - today_tasks * 2)
        score += load_score
        
        scored_candidates.append((emp, score))
    
    # ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©å¾—åˆ†æœ€é«˜çš„å‘˜å·¥
    scored_candidates.sort(key=lambda x: x[1], reverse=True)
    return scored_candidates[0][0]
```

---

## 3. å·¥ä½œæµå¼•æ“è¯¦ç»†è®¾è®¡

### 3.1 å·¥ä½œæµèŠ‚ç‚¹ç±»å‹

```typescript
// èŠ‚ç‚¹åŸºç¡€æ¥å£
interface WorkflowNode {
    id: string;
    type: NodeType;
    name: string;
    position: { x: number; y: number };
    config: NodeConfig;
}

enum NodeType {
    SKILL = 'skill',           // æŠ€èƒ½å¡èŠ‚ç‚¹
    CONDITION = 'condition',   // æ¡ä»¶åˆ†æ”¯èŠ‚ç‚¹
    PARALLEL = 'parallel',     // å¹¶è¡Œæ‰§è¡ŒèŠ‚ç‚¹
    LOOP = 'loop',             // å¾ªç¯èŠ‚ç‚¹
    AGGREGATE = 'aggregate',   // èšåˆèŠ‚ç‚¹
    START = 'start',           // èµ·å§‹èŠ‚ç‚¹
    END = 'end'                // ç»“æŸèŠ‚ç‚¹
}

// æŠ€èƒ½å¡èŠ‚ç‚¹é…ç½®
interface SkillNodeConfig {
    skillCardId: string;
    inputMapping: DataMapping[];  // è¾“å…¥æ•°æ®æ˜ å°„
    outputMapping: DataMapping[]; // è¾“å‡ºæ•°æ®æ˜ å°„
    timeout: number;              // è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    retryPolicy: RetryPolicy;     // é‡è¯•ç­–ç•¥
}

// æ•°æ®æ˜ å°„è§„åˆ™
interface DataMapping {
    source: string;      // æ¥æºè·¯å¾„ï¼Œå¦‚ "nodes.node1.output.title"
    target: string;      // ç›®æ ‡è·¯å¾„ï¼Œå¦‚ "input.articleTitle"
    transform?: string;  // å¯é€‰çš„è½¬æ¢è¡¨è¾¾å¼
}

// æ¡ä»¶èŠ‚ç‚¹é…ç½®
interface ConditionNodeConfig {
    conditions: {
        expression: string;  // æ¡ä»¶è¡¨è¾¾å¼
        targetNodeId: string; // æ»¡è¶³æ¡ä»¶æ—¶è·³è½¬çš„èŠ‚ç‚¹
    }[];
    defaultNodeId: string;   // é»˜è®¤è·³è½¬èŠ‚ç‚¹
}
```

### 3.2 å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€æœº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å·¥ä½œæµä»»åŠ¡çŠ¶æ€æµè½¬                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            PENDING                  â”‚
                    â”‚         ï¼ˆå¾…æ‰§è¡Œï¼‰                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚ åˆ°è¾¾æ‰§è¡Œæ—¶é—´/ç«‹å³æ‰§è¡Œ
                                     â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            RUNNING                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         ï¼ˆæ‰§è¡Œä¸­ï¼‰                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚          â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜          â”‚
         â”‚             â”‚                              â”‚              â”‚
         â”‚ æ¢å¤æ‰§è¡Œ    â”‚                              â”‚              â”‚ é‡è¯•
         â”‚             â–¼                              â–¼              â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
         â”‚    â”‚  PAUSED     â”‚                â”‚   æ­¥éª¤å®Œæˆ   â”‚        â”‚
         â”‚    â”‚ ï¼ˆå·²æš‚åœï¼‰   â”‚                â”‚   ç»§ç»­ä¸‹ä¸€æ­¥ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
         â”‚           â”‚                              â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚                â”‚
                                                    â–¼                â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
              â”‚                                                 â”‚   â”‚
              â–¼                                                 â–¼   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   COMPLETED     â”‚                           â”‚     FAILED      â”‚
    â”‚  ï¼ˆå·²å®Œæˆï¼‰      â”‚                           â”‚   ï¼ˆå·²å¤±è´¥ï¼‰     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â”‚ é‡è¯•æ¬¡æ•°è€—å°½
                                                           â–¼
                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                  â”‚    ç»ˆæ­¢çŠ¶æ€     â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·å¯æ“ä½œï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å½“å‰çŠ¶æ€   â”‚  å¯æ‰§è¡Œæ“ä½œ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PENDING    â”‚  å–æ¶ˆ(â†’CANCELLED)                                   â”‚
â”‚  RUNNING    â”‚  æš‚åœ(â†’PAUSED), å–æ¶ˆ(â†’CANCELLED)                   â”‚
â”‚  PAUSED     â”‚  æ¢å¤(â†’RUNNING), å–æ¶ˆ(â†’CANCELLED)                  â”‚
â”‚  FAILED     â”‚  é‡è¯•(â†’RUNNING), å–æ¶ˆ(â†’CANCELLED)                  â”‚
â”‚  COMPLETED  â”‚  æ— æ“ä½œ                                             â”‚
â”‚  CANCELLED  â”‚  æ— æ“ä½œ                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å·¥ä½œæµè®¾è®¡å™¨UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å·¥ä½œæµè®¾è®¡å™¨ - å°çº¢ä¹¦å†…å®¹ç”Ÿäº§æµæ°´çº¿                 [ä¿å­˜] [å‘å¸ƒ] [æµ‹è¯•]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚  â”‚   èŠ‚ç‚¹åº“     â”‚                                                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                           â”‚
â”‚  â”‚ â¬œ èµ·å§‹èŠ‚ç‚¹  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ æŠ€èƒ½å¡   â”‚     â”‚                                                â”‚   â”‚
â”‚  â”‚ â—‡ æ¡ä»¶åˆ†æ”¯  â”‚     â”‚     â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚ â«¿ å¹¶è¡Œæ‰§è¡Œ  â”‚     â”‚     â”‚STARTâ”‚â”€â”€â”€â–ºâ”‚çƒ­ç‚¹ â”‚â”€â”€â”€â–ºâ”‚æ–‡æ¡ˆ â”‚â”€â”€â”€â–ºâ”‚é…å›¾ â”‚  â”‚   â”‚
â”‚  â”‚ â†» å¾ªç¯     â”‚     â”‚     â”‚     â”‚    â”‚åˆ†æ â”‚    â”‚ç”Ÿæˆ â”‚    â”‚ç”Ÿæˆ â”‚  â”‚   â”‚
â”‚  â”‚ âŠ• èšåˆ     â”‚     â”‚     â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”¬â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚ â¬› ç»“æŸèŠ‚ç‚¹  â”‚     â”‚                                          â”‚      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚                                          â–¼      â”‚   â”‚
â”‚  â”‚   æˆ‘çš„æŠ€èƒ½   â”‚     â”‚                                     â”Œâ”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚                                     â”‚å¹³å° â”‚    â”‚   â”‚
â”‚  â”‚ ğŸ“çƒ­ç‚¹åˆ†æå™¨â”‚     â”‚                                     â”‚é€‚é… â”‚    â”‚   â”‚
â”‚  â”‚ ğŸ“æ–‡æ¡ˆç”Ÿæˆ  â”‚     â”‚                                     â””â”€â”€â”¬â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚ ğŸ¨é…å›¾ç”Ÿæˆ  â”‚     â”‚                                          â”‚      â”‚   â”‚
â”‚  â”‚ ğŸ“¤å¹³å°é€‚é…  â”‚     â”‚                                          â–¼      â”‚   â”‚
â”‚  â”‚ ...         â”‚     â”‚                                     â”Œâ”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                     â”‚ END â”‚    â”‚   â”‚
â”‚                       â”‚                                     â””â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å±æ€§é¢æ¿ - æ–‡æ¡ˆç”ŸæˆèŠ‚ç‚¹                                                 â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ æŠ€èƒ½å¡: å°çº¢ä¹¦ç¬”è®°ç”Ÿæˆå™¨                                                â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚ è¾“å…¥æ˜ å°„:                                                               â”‚â”‚
â”‚  â”‚   topic    â† nodes.çƒ­ç‚¹åˆ†æ.output.topic                               â”‚â”‚
â”‚  â”‚   keywords â† nodes.çƒ­ç‚¹åˆ†æ.output.keywords                            â”‚â”‚
â”‚  â”‚   [+ æ·»åŠ æ˜ å°„]                                                          â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚ è¶…æ—¶: 60ç§’    é‡è¯•æ¬¡æ•°: 3                                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿè¯¦ç»†è®¾è®¡

### 4.1 è°ƒåº¦æµç¨‹æ—¶åºå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CEO    â”‚ â”‚ ç§äººç§˜ä¹¦ â”‚ â”‚å·¥ä½œæµå¼•æ“â”‚ â”‚ è°ƒåº¦æœåŠ¡ â”‚ â”‚ å‘˜å·¥æœåŠ¡ â”‚ â”‚æŠ€èƒ½æ‰§è¡Œå™¨â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚ ä¸‹è¾¾æŒ‡ä»¤   â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚ è§£ææŒ‡ä»¤   â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚ ç”Ÿæˆä»»åŠ¡   â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚ åˆ›å»ºå®ä¾‹   â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚ æ‹†è§£æ­¥éª¤   â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚ å‘å¸ƒStep   â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚ Readyäº‹ä»¶  â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚ åŒ¹é…å‘˜å·¥   â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚ è¿”å›å‘˜å·¥   â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚ åˆ†é…ä»»åŠ¡   â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚ æ›´æ–°çŠ¶æ€   â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚ æ‰§è¡ŒæŠ€èƒ½   â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚ è°ƒç”¨AI/
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚ æ‰§è¡Œä»£ç 
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚  è¿”å›ç»“æœ  â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚
     â”‚            â”‚            â”‚      Step Completedäº‹ä»¶             â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚ æ¨è¿›ä¸‹ä¸€æ­¥ â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚ æˆ–å®Œæˆä»»åŠ¡ â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚            â”‚            â”‚
     â”‚      ä»»åŠ¡å®Œæˆé€šçŸ¥       â”‚            â”‚            â”‚            â”‚
     â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
```

### 4.2 äº‹ä»¶å®šä¹‰

```typescript
// äº‹ä»¶åŸºç¡€ç»“æ„
interface Event {
    eventId: string;
    eventType: string;
    timestamp: number;
    source: string;
    payload: any;
}

// ä»»åŠ¡åˆ›å»ºäº‹ä»¶
interface TaskCreatedEvent extends Event {
    eventType: 'task.created';
    payload: {
        taskId: string;
        companyId: string;
        workflowId: string;
        name: string;
        priority: number;
        inputParams: object;
    };
}

// æ­¥éª¤å°±ç»ªäº‹ä»¶
interface StepReadyEvent extends Event {
    eventType: 'step.ready';
    payload: {
        taskId: string;
        stepId: string;
        skillCardId: string;
        inputData: object;
        sequence: number;
    };
}

// å‘˜å·¥åˆ†é…äº‹ä»¶
interface EmployeeAssignedEvent extends Event {
    eventType: 'employee.assigned';
    payload: {
        taskStepId: string;
        employeeId: string;
        assignedAt: number;
    };
}

// æ­¥éª¤å®Œæˆäº‹ä»¶
interface StepCompletedEvent extends Event {
    eventType: 'step.completed';
    payload: {
        taskId: string;
        stepId: string;
        employeeId: string;
        outputData: object;
        duration: number;
        success: boolean;
        errorMessage?: string;
    };
}

// ä»»åŠ¡å®Œæˆäº‹ä»¶
interface TaskCompletedEvent extends Event {
    eventType: 'task.completed';
    payload: {
        taskId: string;
        companyId: string;
        status: 'completed' | 'failed';
        outputResult: object;
        totalDuration: number;
        stepsCount: number;
    };
}
```

---

## 5. ç§˜ä¹¦å¤„ç³»ç»Ÿè¯¦ç»†è®¾è®¡

### 5.1 ç§˜ä¹¦è§’è‰²å®šä¹‰

```typescript
interface SecretaryProfile {
    type: SecretaryType;
    name: string;
    personality: string;
    avatarUrl: string;
    voiceId?: string;         // è¯­éŸ³åˆæˆID
    capabilities: string[];    // èƒ½åŠ›åˆ—è¡¨
    greetings: string[];       // é—®å€™è¯­åº“
    responseStyle: string;     // å›å¤é£æ ¼
}

enum SecretaryType {
    BUSINESS = 'business',     // ä¸šåŠ¡ç§˜ä¹¦
    LIFE = 'life',             // ç”Ÿæ´»ç§˜ä¹¦
    PERSONAL = 'personal'      // ç§äººç§˜ä¹¦
}

// ä¸‰ä½ç§˜ä¹¦çš„é»˜è®¤äººæ ¼è®¾å®š
const SECRETARY_PROFILES: Record<SecretaryType, SecretaryProfile> = {
    business: {
        type: SecretaryType.BUSINESS,
        name: 'å®‰çª',
        personality: 'ä¸“ä¸šã€é«˜æ•ˆã€æ•°æ®é©±åŠ¨',
        capabilities: ['ä¸šåŠ¡æŠ¥å‘Š', 'æ•°æ®åˆ†æ', 'å†³ç­–å»ºè®®', 'é¡¹ç›®æ±‡æŠ¥'],
        responseStyle: 'ç®€æ´ä¸“ä¸šï¼Œå–„ç”¨æ•°æ®è¯´è¯ï¼Œæä¾›å¯æ‰§è¡Œçš„å»ºè®®'
    },
    life: {
        type: SecretaryType.LIFE,
        name: 'å°æš–',
        personality: 'æ¸©æš–ã€ä½“è´´ã€å–„è§£äººæ„',
        capabilities: ['çŠ¶æ€æ„ŸçŸ¥', 'æ¨¡å¼è°ƒèŠ‚', 'èŠ‚æ—¥å…³æ€€', 'ä¼‘æ¯æé†’'],
        responseStyle: 'æ¸©æŸ”å…³åˆ‡ï¼Œåƒæœ‹å‹ä¸€æ ·è‡ªç„¶ï¼Œä¸ä¼šè¿‡åº¦æ‰“æ‰°'
    },
    personal: {
        type: SecretaryType.PERSONAL,
        name: 'å°æ™º',
        personality: 'èªæ˜ã€çµæ´»ã€æ‰§è¡ŒåŠ›å¼º',
        capabilities: ['æŒ‡ä»¤è§£æ', 'ä»»åŠ¡åˆ›å»º', 'æ—¥ç¨‹ç®¡ç†', 'å¿«æ·æ“ä½œ'],
        responseStyle: 'ç®€æ´é«˜æ•ˆï¼Œç†è§£åŠ›å¼ºï¼Œä¸»åŠ¨ç¡®è®¤å…³é”®ä¿¡æ¯'
    }
};
```

### 5.2 ç§äººç§˜ä¹¦æŒ‡ä»¤è§£æ

```typescript
interface CommandParseResult {
    intent: CommandIntent;        // æ„å›¾è¯†åˆ«ç»“æœ
    entities: CommandEntity[];    // å®ä½“æå–ç»“æœ
    confidence: number;           // ç½®ä¿¡åº¦
    clarificationNeeded: boolean; // æ˜¯å¦éœ€è¦æ¾„æ¸…
    clarificationQuestion?: string;
    suggestedAction: SuggestedAction;
}

enum CommandIntent {
    CREATE_TASK = 'create_task',           // åˆ›å»ºä»»åŠ¡
    QUERY_STATUS = 'query_status',         // æŸ¥è¯¢çŠ¶æ€
    MODIFY_TASK = 'modify_task',           // ä¿®æ”¹ä»»åŠ¡
    MANAGE_EMPLOYEE = 'manage_employee',   // ç®¡ç†å‘˜å·¥
    GET_REPORT = 'get_report',             // è·å–æŠ¥å‘Š
    SET_SCHEDULE = 'set_schedule',         // è®¾ç½®æ—¥ç¨‹
    CASUAL_CHAT = 'casual_chat',           // é—²èŠ
    UNKNOWN = 'unknown'
}

// æŒ‡ä»¤è§£æç¤ºä¾‹
const COMMAND_EXAMPLES = [
    {
        input: "å¸®æˆ‘å†™5ç¯‡å°çº¢ä¹¦ç¬”è®°ï¼Œä¸»é¢˜æ˜¯ç§‹å­£ç©¿æ­",
        parsed: {
            intent: CommandIntent.CREATE_TASK,
            entities: [
                { type: 'workflow', value: 'å°çº¢ä¹¦ç¬”è®°ç”Ÿæˆ' },
                { type: 'quantity', value: 5 },
                { type: 'topic', value: 'ç§‹å­£ç©¿æ­' }
            ],
            confidence: 0.95,
            clarificationNeeded: false,
            suggestedAction: {
                type: 'create_task',
                workflow: 'xiaohongshu_note',
                params: { topic: 'ç§‹å­£ç©¿æ­', count: 5 }
            }
        }
    },
    {
        input: "é‚£ä¸ªçƒ­ç‚¹åˆ†æä»»åŠ¡åšå®Œäº†å—",
        parsed: {
            intent: CommandIntent.QUERY_STATUS,
            entities: [
                { type: 'task_type', value: 'çƒ­ç‚¹åˆ†æ' }
            ],
            confidence: 0.85,
            clarificationNeeded: true,
            clarificationQuestion: "æ‚¨æ˜¯æƒ³æŸ¥è¯¢æœ€è¿‘çš„çƒ­ç‚¹åˆ†æä»»åŠ¡å—ï¼Ÿæˆ‘æ‰¾åˆ°äº†3ä¸ªç›¸å…³ä»»åŠ¡..."
        }
    }
];
```

### 5.3 ä¸šåŠ¡ç§˜ä¹¦æŠ¥å‘Šæ¨¡æ¿

```typescript
interface DailyReport {
    reportDate: string;
    summary: ReportSummary;
    highlights: Highlight[];
    concerns: Concern[];
    recommendations: Recommendation[];
}

interface ReportSummary {
    tasksCompleted: number;
    tasksCreated: number;
    successRate: number;
    avgCompletionTime: number;
    employeeUtilization: number;
    comparedToYesterday: {
        tasksChange: number;
        successRateChange: number;
    };
}

// æŠ¥å‘Šè¯æœ¯æ¨¡æ¿
const REPORT_TEMPLATES = {
    greeting: [
        "æ—©ä¸Šå¥½ï¼Œè€æ¿ï¼æ˜¨å¤©å…¬å¸è¿è½¬å¾—ä¸é”™å‘¢~",
        "è€æ¿å¥½ï¼è®©æˆ‘ç»™æ‚¨æ±‡æŠ¥ä¸€ä¸‹æ˜¨å¤©çš„æˆ˜ç»©~",
        "Hiè€æ¿ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹äº†ï¼Œå…ˆçœ‹çœ‹æ˜¨å¤©çš„æˆæœå§ï¼"
    ],
    taskSummary: "æ˜¨å¤©å›¢é˜Ÿä¸€å…±å®Œæˆäº† {tasksCompleted} ä¸ªä»»åŠ¡ï¼ŒæˆåŠŸç‡ {successRate}%ï¼Œæ¯”å‰å¤©{comparison}ã€‚",
    highlight: "ç‰¹åˆ«å€¼å¾—ä¸€æçš„æ˜¯ï¼š{content}",
    concern: "éœ€è¦å…³æ³¨çš„æ˜¯ï¼š{content}",
    recommendation: "æˆ‘çš„å»ºè®®æ˜¯ï¼š{content}",
    closing: [
        "ä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦ï¼æœ‰ä»€ä¹ˆéœ€è¦éšæ—¶å«æˆ‘~",
        "ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„ç®€æŠ¥ï¼Œç¥æ‚¨å·¥ä½œé¡ºåˆ©ï¼",
        "è€æ¿ä»Šå¤©æœ‰ä»€ä¹ˆè®¡åˆ’å‘¢ï¼Ÿæˆ‘éšæ—¶å¾…å‘½~"
    ]
};
```

---

## 6. ç”¨æˆ·çŠ¶æ€ä¸­æ¢è®¾è®¡

### 6.1 ç”¨æˆ·çŠ¶æ€æ¨¡å‹

```typescript
interface UserState {
    userId: string;
    companyId: string;
    
    // å½“å‰çŠ¶æ€
    currentStatus: UserStatus;
    statusSetAt: number;
    statusExpiresAt?: number;
    
    // å·¥ä½œæ¨¡å¼
    workMode: WorkMode;
    
    // æ´»è·ƒä¿¡æ¯
    lastActiveAt: number;
    activeDevice: string;
    onlineDevices: string[];
    
    // ä¸Šä¸‹æ–‡
    context: UserContext;
}

enum UserStatus {
    AVAILABLE = 'available',     // åœ¨çº¿å¯ç”¨
    BUSY = 'busy',               // å¿™ç¢Œ
    DND = 'dnd',                 // å‹¿æ‰°
    AWAY = 'away',               // ç¦»å¼€
    TRAVELING = 'traveling',     // æ—…è¡Œä¸­
    RESTING = 'resting'          // ä¼‘æ¯ä¸­
}

enum WorkMode {
    NORMAL = 'normal',           // æ­£å¸¸æ¨¡å¼
    FOCUS = 'focus',             // ä¸“æ³¨æ¨¡å¼ï¼ˆå‡å°‘é€šçŸ¥ï¼‰
    LIGHT = 'light',             // è½»é‡æ¨¡å¼ï¼ˆä»…å…³é”®é€šçŸ¥ï¼‰
    OFFLINE = 'offline'          // ç¦»çº¿æ¨¡å¼ï¼ˆé˜Ÿåˆ—é€šçŸ¥ï¼‰
}

interface UserContext {
    timezone: string;
    location?: string;
    currentTask?: string;
    preferences: {
        notificationLevel: 'all' | 'important' | 'critical';
        quietHoursStart?: string;
        quietHoursEnd?: string;
    };
}
```

### 6.2 çŠ¶æ€è”åŠ¨è§„åˆ™

```typescript
// çŠ¶æ€å˜æ›´è§¦å‘çš„ç³»ç»Ÿå“åº”
const STATE_REACTIONS: Record<UserStatus, SystemReaction[]> = {
    [UserStatus.DND]: [
        { target: 'notification', action: 'suppress', filter: { priority: ['low', 'medium'] } },
        { target: 'secretary', action: 'reduce_proactive', rate: 0.2 },
        { target: 'ui', action: 'enable_minimal_mode' }
    ],
    [UserStatus.TRAVELING]: [
        { target: 'notification', action: 'compress', method: 'daily_digest' },
        { target: 'task', action: 'delay_non_critical', hours: 24 },
        { target: 'secretary', action: 'switch_to_mobile_first' }
    ],
    [UserStatus.RESTING]: [
        { target: 'notification', action: 'queue', until: 'status_change' },
        { target: 'employee', action: 'reduce_workload', rate: 0.5 },
        { target: 'secretary', action: 'send_rest_greeting' }
    ]
};

// è‡ªåŠ¨çŠ¶æ€æ£€æµ‹è§„åˆ™
const AUTO_DETECTION_RULES = [
    {
        condition: 'inactive_for_30min_during_work_hours',
        suggestStatus: UserStatus.AWAY,
        action: 'ask_life_secretary_to_check'
    },
    {
        condition: 'high_activity_late_night',
        action: 'life_secretary_gentle_reminder'
    },
    {
        condition: 'continuous_work_3_hours',
        action: 'life_secretary_break_suggestion'
    }
];
```

---

## 7. é©¾é©¶èˆ±UIè¯¦ç»†è®¾è®¡

### 7.1 PCç«¯é©¾é©¶èˆ±å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ— é™å…¬å¸ CEOé©¾é©¶èˆ±                         ğŸ”” 3  ğŸ‘¤ [ç”¨æˆ·åâ–¼]  âš™ï¸           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚ â”‚  â”‚ä»Šæ—¥ä»»åŠ¡  â”‚ â”‚ æˆåŠŸç‡  â”‚ â”‚ å›¢é˜Ÿæ•ˆç‡â”‚ â”‚æœ¬å‘¨æ”¶ç›Š  â”‚ â”‚ æ´»è·ƒå‘˜å·¥â”‚  [å…¨å±€çŠ¶æ€]â”‚   â”‚
â”‚ â”‚  â”‚   28    â”‚ â”‚  96.3%  â”‚ â”‚  87.5%  â”‚ â”‚ Â¥2,340  â”‚ â”‚  12/15  â”‚         â”‚   â”‚
â”‚ â”‚  â”‚  â†‘12%   â”‚ â”‚  â†‘2.1%  â”‚ â”‚  â†“1.2%  â”‚ â”‚  â†‘18%   â”‚ â”‚         â”‚         â”‚   â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   ç§˜ä¹¦é€šè®¯åŒº     â”‚ â”‚        å®æ—¶æ€åŠ¿æ„ŸçŸ¥åŒº          â”‚ â”‚   å¿«é€Ÿå…¥å£     â”‚ â”‚
â”‚ â”‚                  â”‚ â”‚                                â”‚ â”‚                â”‚ â”‚
â”‚ â”‚ ğŸ“‹ ä»Šæ—¥ç®€æŠ¥      â”‚ â”‚  ä»»åŠ¡è¿›åº¦                      â”‚ â”‚ ğŸ¢ åŠå…¬å®¤     â”‚ â”‚
â”‚ â”‚ æ˜¨æ—¥å®Œæˆ23ä¸ª... â”‚ â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 78%            â”‚ â”‚ ğŸ“‹ ä»»åŠ¡å¤§å…   â”‚ â”‚
â”‚ â”‚                  â”‚ â”‚                                â”‚ â”‚ ğŸ› ï¸ ç®¡ç†éƒ¨é—¨   â”‚ â”‚
â”‚ â”‚ ğŸ’­ å°æš–æé†’      â”‚ â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”   â”‚ â”‚ ğŸ›’ å¸‚åœº      â”‚ â”‚
â”‚ â”‚ è€æ¿æ³¨æ„ä¼‘æ¯å“¦   â”‚ â”‚  â”‚çƒ­ç‚¹â”‚æ–‡æ¡ˆâ”‚é…å›¾â”‚è´¨æ£€â”‚å‘å¸ƒâ”‚   â”‚ â”‚                â”‚ â”‚
â”‚ â”‚                  â”‚ â”‚  â”‚ âœ“ â”‚ â— â”‚ â—‹ â”‚ â—‹ â”‚ â—‹ â”‚   â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ âš ï¸ é£é™©æé†’      â”‚ â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜   â”‚ â”‚ â”‚  é¢„è­¦çŠ¶æ€  â”‚ â”‚ â”‚
â”‚ â”‚ ä»»åŠ¡#28æ‰§è¡Œ...  â”‚ â”‚                                â”‚ â”‚ â”‚   ğŸŸ¢ æ­£å¸¸   â”‚ â”‚ â”‚
â”‚ â”‚                  â”‚ â”‚  å‘˜å·¥çŠ¶æ€åˆ†å¸ƒ                  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  ç©ºé—²:5  å·¥ä½œ:8             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  ğŸ’¬ æœ‰ä»€ä¹ˆéœ€è¦å¸®å¿™çš„å—ï¼Ÿ                               ğŸ¤ [å‘é€]        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  å®æ—¶åŠ¨æ€æµ                                                           â”‚   â”‚
â”‚ â”‚  10:32  âœ“ ä»»åŠ¡#27 å·²å®Œæˆ  â”‚  10:28  â–¶ å‘˜å·¥å°æ˜å¼€å§‹æ‰§è¡Œæ–‡æ¡ˆç”Ÿæˆ        â”‚   â”‚
â”‚ â”‚  10:25  âš¡ çƒ­ç‚¹è¯é¢˜æ›´æ–°    â”‚  10:20  + æ–°ä»»åŠ¡#28å·²åˆ›å»º                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ç§»åŠ¨ç«¯é©¾é©¶èˆ±å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ— é™å…¬å¸      ğŸ”” 3    ğŸ‘¤   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ä»Šæ—¥ä»»åŠ¡å®Œæˆ 28ä¸ª â†‘12%     â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 85%      â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾…æˆ‘å¤„ç† (3)               â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš ï¸ ä»»åŠ¡é£é™©ä¸ŠæŠ¥          â”‚ â”‚
â”‚ â”‚ ä»»åŠ¡#28æ‰§è¡Œè¶…æ—¶ï¼Œéœ€å†³ç­–  â”‚ â”‚
â”‚ â”‚ [é‡è¯•] [è·³è¿‡] [æŸ¥çœ‹è¯¦æƒ…] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ… ä»»åŠ¡å®¡æ‰¹             â”‚ â”‚
â”‚ â”‚ æ–°å·¥ä½œæµéœ€è¦å®¡æ‰¹å‘å¸ƒ    â”‚ â”‚
â”‚ â”‚ [é€šè¿‡] [é©³å›]           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š å‘¨æŠ¥å·²ç”Ÿæˆ           â”‚ â”‚
â”‚ â”‚ ç‚¹å‡»æŸ¥çœ‹æœ¬å‘¨ç»è¥åˆ†æ    â”‚ â”‚
â”‚ â”‚ [æŸ¥çœ‹æŠ¥å‘Š]              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚   ğŸ’¬           ğŸ¤          â†»  â”‚
â”‚  ç§˜ä¹¦       è¯­éŸ³æŒ‡ä»¤    åˆ·æ–°  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. å¯è§†åŒ–åŠå…¬å®¤è®¾è®¡

### 8.1 åŠå…¬å®¤åœºæ™¯æ„æˆ

```typescript
interface OfficeScene {
    layout: OfficeLayout;
    furniture: Furniture[];
    employees: EmployeeVisual[];
    decorations: Decoration[];
    effects: VisualEffect[];
}

interface OfficeLayout {
    width: number;           // ç½‘æ ¼å®½åº¦
    height: number;          // ç½‘æ ¼é«˜åº¦
    areas: {
        workArea: Area;      // å·¥ä½œåŒº
        restArea?: Area;     // ä¼‘æ¯åŒº
        meetingRoom?: Area;  // ä¼šè®®å®¤
    };
}

interface EmployeeVisual {
    employeeId: string;
    position: { x: number; y: number };
    status: EmployeeStatus;
    animation: AnimationType;
    bubbleMessage?: string;  // å¤´é¡¶æ°”æ³¡
}

enum AnimationType {
    IDLE = 'idle',           // å‘å‘†/æ”¾æ¾
    TYPING = 'typing',       // æ‰“å­—å·¥ä½œ
    THINKING = 'thinking',   // æ€è€ƒï¼ˆå¤´é¡¶é—®å·ï¼‰
    EXCITED = 'excited'      // å®Œæˆä»»åŠ¡ï¼ˆæ’’èŠ±ï¼‰
}
```

### 8.2 ä»»åŠ¡æ‰§è¡Œå¯è§†åŒ–

```
æ­£åœ¨æ‰§è¡Œä»»åŠ¡æ—¶çš„åŠå…¬å®¤æ•ˆæœï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”                           â”‚
â”‚     â”‚ ğŸª´  â”‚                              â”‚ ğŸ“Š  â”‚                           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•â•â•â•â•â•â•â•â•â•â•â•â–º  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•â•â•â•â•â•â•â•â•â•â•â•â–º  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  âŒ¨ï¸ âœ¨  â”‚    æ•°æ®æµåŠ¨     â”‚  ğŸ’­     â”‚    æ•°æ®æµåŠ¨     â”‚  ğŸ¨     â”‚      â”‚
â”‚  â”‚  å°æ˜   â”‚   ï¼ˆå‘å…‰ç²’å­ï¼‰   â”‚  å°çº¢   â”‚   ï¼ˆå‘å…‰ç²’å­ï¼‰   â”‚  å°å   â”‚      â”‚
â”‚  â”‚ [å·¥ä½œä¸­]â”‚                  â”‚ [ç­‰å¾…ä¸­]â”‚                  â”‚ [å¾…åˆ†é…]â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚      â”‚                                                                      â”‚
â”‚      â”‚ â† å·¥ä½é«˜äº®å…‰æ•ˆ                                                       â”‚
â”‚      â–¼                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚ æ­£åœ¨æ‰§è¡Œ: çƒ­ç‚¹åˆ†æ â”‚                                                    â”‚
â”‚  â”‚ è¿›åº¦: 45%          â”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”                                 â”‚
â”‚     â”‚ ğŸ˜´  â”‚        â”‚ â˜•  â”‚        â”‚ ğŸ“±  â”‚                                 â”‚
â”‚     â”‚å°æ â”‚        â”‚ä¼‘æ¯åŒºâ”‚        â”‚å°å¼  â”‚                                 â”‚
â”‚     â”‚[ä¼‘æ¯]â”‚        â””â”€â”€â”€â”€â”€â”˜        â”‚[ç©ºé—²]â”‚                                 â”‚
â”‚     â””â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

äº¤äº’è¯´æ˜ï¼š
- ç‚¹å‡»å‘˜å·¥ï¼šå¼¹å‡ºå‘˜å·¥ä¿¡æ¯å¡ç‰‡
- æ‹–æ‹½å‘˜å·¥ï¼šè°ƒæ•´å·¥ä½ä½ç½®
- ç‚¹å‡»æ•°æ®æµï¼šæŸ¥çœ‹å½“å‰ä¼ è¾“çš„æ•°æ®å†…å®¹
- åŒå‡»ä»»åŠ¡è¿›åº¦æ¡ï¼šè·³è½¬åˆ°ä»»åŠ¡è¯¦æƒ…é¡µ
```

---

## 9. å¤–åŒ…ç³»ç»Ÿè¯¦ç»†è®¾è®¡

### 9.1 å¤–åŒ…ä»»åŠ¡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å¤–åŒ…ä»»åŠ¡å…¨æµç¨‹                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  CEO                    å¹³å°                   å¤–åŒ…æœåŠ¡å•†
   â”‚                      â”‚                        â”‚
   â”‚  1. å‘èµ·å¤–åŒ…         â”‚                        â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                        â”‚
   â”‚  ï¼ˆé€‰æ‹©äº§å‡ºç‰©+éœ€æ±‚ï¼‰  â”‚                        â”‚
   â”‚                      â”‚                        â”‚
   â”‚                      â”‚  2. ç”Ÿæˆä»»åŠ¡åŒ…         â”‚
   â”‚                      â”‚  ï¼ˆè‡ªåŠ¨æ‰“åŒ…+å‘å¸ƒï¼‰      â”‚
   â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚                        â”‚
   â”‚                      â”‚                        â”‚  3. æŠ•æ ‡/æ¥å•
   â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                      â”‚                        â”‚
   â”‚  4. é€‰æ‹©æœåŠ¡å•†       â”‚                        â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                        â”‚
   â”‚  ï¼ˆæŸ¥çœ‹æŠ¥ä»·/æ¡ˆä¾‹ï¼‰    â”‚                        â”‚
   â”‚                      â”‚                        â”‚
   â”‚                      â”‚  5. ç¡®è®¤åˆä½œ           â”‚
   â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚  ï¼ˆå†»ç»“æ‰˜ç®¡èµ„é‡‘ï¼‰       â”‚
   â”‚                      â”‚                        â”‚
   â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚         6. å¹³å°å†…æ²Ÿé€šï¼ˆIMã€æ–‡ä»¶ä¼ è¾“ï¼‰          â”‚
   â”‚                      â”‚                        â”‚
   â”‚                      â”‚                        â”‚  7. æäº¤äº¤ä»˜ç‰©
   â”‚                      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                      â”‚                        â”‚
   â”‚  8. éªŒæ”¶å®¡æ ¸         â”‚                        â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                        â”‚
   â”‚                      â”‚                        â”‚
   â”‚                      â”‚  9. ç¡®è®¤ä»˜æ¬¾           â”‚
   â”‚                      â”‚  ï¼ˆé‡Šæ”¾æ‰˜ç®¡èµ„é‡‘ï¼‰       â”‚
   â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚                        â”‚
   â”‚  10. åŒå‘è¯„ä»·        â”‚                        â”‚  10. åŒå‘è¯„ä»·
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                      â”‚                        â”‚
   â”‚                      â”‚  11. å¹³å°æŠ½æˆç»“ç®—      â”‚
   â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚                        â”‚
```

### 9.2 å¤–åŒ…ä»»åŠ¡åŒ…ç»“æ„

```typescript
interface OutsourcePackage {
    packageId: string;
    title: string;
    description: string;
    category: string;           // æœåŠ¡ç±»ç›®
    
    // AIäº§å‡ºç‰©
    aiOutputs: {
        type: string;           // ç±»å‹ï¼šæ–‡æ¡ˆ/å›¾ç‰‡/è„šæœ¬ç­‰
        content: any;           // å†…å®¹æˆ–æ–‡ä»¶é“¾æ¥
        previewUrl?: string;    // é¢„è§ˆé“¾æ¥
    }[];
    
    // éœ€æ±‚æè¿°
    requirements: {
        description: string;    // è¯¦ç»†éœ€æ±‚
        format?: string;        // äº¤ä»˜æ ¼å¼è¦æ±‚
        references?: string[];  // å‚è€ƒèµ„æ–™
    };
    
    // å‘åŒ…é…ç½®
    publishConfig: {
        type: 'direct' | 'bidding';  // å®šå‘/ç«æ ‡
        targetVendorId?: string;     // å®šå‘æœåŠ¡å•†ID
        budget: {
            min: number;
            max: number;
        };
        deadline: string;       // æˆªæ­¢æ—¶é—´
        urgency: 'normal' | 'urgent' | 'very_urgent';
    };
    
    // çŠ¶æ€è¿½è¸ª
    status: OutsourceStatus;
    timeline: TimelineEvent[];
}

enum OutsourceStatus {
    DRAFT = 'draft',
    PUBLISHED = 'published',
    BIDDING = 'bidding',
    IN_PROGRESS = 'in_progress',
    REVIEWING = 'reviewing',
    COMPLETED = 'completed',
    DISPUTED = 'disputed',
    CANCELLED = 'cancelled'
}
```

---

## 10. é”™è¯¯å¤„ç†ä¸å®¹é”™è®¾è®¡

### 10.1 é”™è¯¯åˆ†ç±»ä¸å¤„ç†ç­–ç•¥

```typescript
enum ErrorCategory {
    // å¯æ¢å¤é”™è¯¯ - è‡ªåŠ¨é‡è¯•
    TRANSIENT = 'transient',       // ç½‘ç»œè¶…æ—¶ã€æœåŠ¡æš‚æ—¶ä¸å¯ç”¨
    RATE_LIMIT = 'rate_limit',     // é™æµ
    
    // éœ€äººå·¥å¹²é¢„é”™è¯¯
    VALIDATION = 'validation',     // è¾“å…¥éªŒè¯å¤±è´¥
    BUSINESS = 'business',         // ä¸šåŠ¡è§„åˆ™å†²çª
    
    // ç³»ç»Ÿé”™è¯¯ - ä¸ŠæŠ¥
    SYSTEM = 'system',             // ç³»ç»Ÿå†…éƒ¨é”™è¯¯
    EXTERNAL = 'external'          // å¤–éƒ¨æœåŠ¡é”™è¯¯
}

interface ErrorHandler {
    category: ErrorCategory;
    maxRetries: number;
    retryDelay: number;            // æ¯«ç§’
    retryBackoff: 'linear' | 'exponential';
    escalateTo: 'project_manager' | 'business_secretary' | 'system_alert';
    userNotification: boolean;
}

const ERROR_HANDLERS: Record<ErrorCategory, ErrorHandler> = {
    [ErrorCategory.TRANSIENT]: {
        category: ErrorCategory.TRANSIENT,
        maxRetries: 3,
        retryDelay: 1000,
        retryBackoff: 'exponential',
        escalateTo: 'project_manager',
        userNotification: false
    },
    [ErrorCategory.RATE_LIMIT]: {
        category: ErrorCategory.RATE_LIMIT,
        maxRetries: 5,
        retryDelay: 5000,
        retryBackoff: 'linear',
        escalateTo: 'project_manager',
        userNotification: false
    },
    [ErrorCategory.VALIDATION]: {
        category: ErrorCategory.VALIDATION,
        maxRetries: 0,
        retryDelay: 0,
        retryBackoff: 'linear',
        escalateTo: 'business_secretary',
        userNotification: true
    },
    [ErrorCategory.BUSINESS]: {
        category: ErrorCategory.BUSINESS,
        maxRetries: 0,
        retryDelay: 0,
        retryBackoff: 'linear',
        escalateTo: 'business_secretary',
        userNotification: true
    },
    [ErrorCategory.SYSTEM]: {
        category: ErrorCategory.SYSTEM,
        maxRetries: 1,
        retryDelay: 5000,
        retryBackoff: 'linear',
        escalateTo: 'system_alert',
        userNotification: true
    },
    [ErrorCategory.EXTERNAL]: {
        category: ErrorCategory.EXTERNAL,
        maxRetries: 3,
        retryDelay: 2000,
        retryBackoff: 'exponential',
        escalateTo: 'project_manager',
        userNotification: true
    }
};
```

### 10.2 ç†”æ–­ä¸é™çº§

```typescript
interface CircuitBreakerConfig {
    service: string;
    failureThreshold: number;      // è§¦å‘ç†”æ–­çš„å¤±è´¥æ¬¡æ•°
    successThreshold: number;      // æ¢å¤æ­£å¸¸çš„æˆåŠŸæ¬¡æ•°
    timeout: number;               // ç†”æ–­è¶…æ—¶ï¼ˆæ¯«ç§’ï¼‰
    fallbackStrategy: FallbackStrategy;
}

enum FallbackStrategy {
    CACHE = 'cache',               // è¿”å›ç¼“å­˜æ•°æ®
    DEFAULT = 'default',           // è¿”å›é»˜è®¤å€¼
    QUEUE = 'queue',               // åŠ å…¥é˜Ÿåˆ—ç¨åé‡è¯•
    ALTERNATIVE = 'alternative'    // ä½¿ç”¨å¤‡ç”¨æœåŠ¡
}

const CIRCUIT_BREAKER_CONFIGS: CircuitBreakerConfig[] = [
    {
        service: 'openai-api',
        failureThreshold: 5,
        successThreshold: 3,
        timeout: 30000,
        fallbackStrategy: FallbackStrategy.ALTERNATIVE  // åˆ‡æ¢åˆ°å¤‡ç”¨LLM
    },
    {
        service: 'skill-executor',
        failureThreshold: 10,
        successThreshold: 5,
        timeout: 60000,
        fallbackStrategy: FallbackStrategy.QUEUE
    }
];
```

---

## é™„å½•Aï¼šé…ç½®é¡¹æ¸…å•

### ç³»ç»Ÿé…ç½®

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| task.default_timeout | 300s | ä»»åŠ¡é»˜è®¤è¶…æ—¶æ—¶é—´ |
| task.max_retries | 3 | æœ€å¤§é‡è¯•æ¬¡æ•° |
| employee.max_queue_length | 5 | å‘˜å·¥æœ€å¤§ä»»åŠ¡é˜Ÿåˆ—é•¿åº¦ |
| employee.auto_rest_hours | 8 | è¿ç»­å·¥ä½œåå¼ºåˆ¶ä¼‘æ¯ |
| scheduler.match_algorithm | balanced | è°ƒåº¦ç®—æ³•(balanced/performance/fairness) |
| notification.quiet_hours | 22:00-08:00 | é™é»˜æ—¶é—´æ®µ |
| sandbox.memory_limit | 256MB | æ²™ç®±å†…å­˜é™åˆ¶ |
| sandbox.cpu_limit | 0.5 | æ²™ç®±CPUé™åˆ¶ |
| sandbox.execution_timeout | 30s | æ²™ç®±æ‰§è¡Œè¶…æ—¶ |

### è®¢é˜…å¥—é¤é…ç½®

| å¥—é¤ | max_employees | max_skillcards | features |
|------|---------------|----------------|----------|
| free | 5 | 10 | basic_workflow, web_only |
| professional | 20 | 50 | full_workflow, all_platforms, secretary_advanced, project_manager |
| team | unlimited | unlimited | all + team_collaboration, admin_panel |

---

## é™„å½•Bï¼šæœ¯è¯­å¯¹ç…§è¡¨

| è‹±æ–‡ | ä¸­æ–‡ | è¯´æ˜ |
|------|------|------|
| SkillCard | æŠ€èƒ½å¡ | AIèƒ½åŠ›çš„æ ‡å‡†åŒ–å°è£… |
| Kernel | å†…æ ¸ | æŠ€èƒ½å¡çš„æ ¸å¿ƒæ‰§è¡Œé€»è¾‘ |
| Workflow | å·¥ä½œæµ | å¤šæŠ€èƒ½å¡ä¸²è”çš„è‡ªåŠ¨åŒ–æµç¨‹ |
| Task | ä»»åŠ¡ | å·¥ä½œæµçš„ä¸€æ¬¡æ‰§è¡Œå®ä¾‹ |
| TaskStep | ä»»åŠ¡æ­¥éª¤ | ä»»åŠ¡ä¸­çš„å•ä¸ªæ‰§è¡ŒèŠ‚ç‚¹ |
| Employee | å‘˜å·¥ | è™šæ‹ŸAIæ‰§è¡Œè€… |
| Secretary | ç§˜ä¹¦ | äººæ ¼åŒ–äº¤äº’ç•Œé¢ |
| ProjectManager | é¡¹ç®¡ | é¡¹ç›®ç›‘æ§ä¸åè°ƒè§’è‰² |
| Dashboard | é©¾é©¶èˆ± | CEOä¿¡æ¯ä¸­æ¢ |
| Outsource | å¤–åŒ… | çœŸäººæœåŠ¡åä½œ |
